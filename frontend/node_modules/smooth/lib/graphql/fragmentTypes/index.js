"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getFragmentTypes = getFragmentTypes;

var _execution = require("graphql/execution");

var _graphqlTag = _interopRequireDefault(require("graphql-tag"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const QUERY = _graphqlTag.default`
  {
    __schema {
      types {
        kind
        name
        possibleTypes {
          name
        }
      }
    }
  }
`;

async function getFragmentTypes({
  schema
}) {
  const {
    data
  } = await (0, _execution.execute)(schema, QUERY);

  const filteredData = data.__schema.types.filter(type => type.possibleTypes !== null);

  data.__schema.types = filteredData;
  return data;
}