"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createApolloClient = createApolloClient;

var _apolloClient = require("apollo-client");

var _apolloUploadClient = require("apollo-upload-client");

var _apolloCacheInmemory = require("apollo-cache-inmemory");

var _smooth_fragmentTypes = _interopRequireDefault(require("__smooth_fragmentTypes"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createApolloClient() {
  return new _apolloClient.ApolloClient({
    link: (0, _apolloUploadClient.createUploadLink)({
      uri: '/graphql',
      credentials: 'same-origin'
    }),
    cache: new _apolloCacheInmemory.InMemoryCache({
      fragmentMatcher: new _apolloCacheInmemory.IntrospectionFragmentMatcher({
        introspectionQueryResultData: _smooth_fragmentTypes.default
      })
    }).restore(window.__APOLLO_STATE__)
  });
}
/* eslint-enable no-underscore-dangle */